---
// src/components/Header.astro
const { pathname } = Astro.url;
const isActive = (href: string) => pathname === href;
---

<header class="w-full bg-green-900 shadow-md px-6 py-4 lg:px-40 relative">
    <div class="flex justify-between items-center">
        <!-- Logo -->
        <div class="flex items-center space-x-3">
            <a href="/">
                <img src="/assets/Icon-raiz-verde.png" alt="Raíz Verde Logo" class="h-10 w-10 object-contain rounded" />
            </a>
            <a href="/">
                <span class="text-2xl lg:text-3xl font-bold text-white">Raíz Verde</span>
            </a>
        </div>

        <!-- Botón hamburguesa (móviles) -->
        <button 
        class="lg:hidden text-white focus:outline-none" 
        onclick="document.getElementById('mobile-menu').classList.toggle('hidden')"
        aria-label="Menú"
        >
            <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M4 6h16M4 12h16M4 18h16" />
            </svg>
        </button>

        <!-- Menú escritorio -->
        <nav class="hidden lg:flex items-center space-x-8">
            <a href="/comprar"
                class={`text-white font-bold hover:underline transition ${isActive('/comprar') ? 'underline underline-offset-4' : ''}`}>
                Comprar
            </a>
            <a href="/plantaciones"
                class={`text-white font-bold hover:underline transition ${isActive('/plantaciones') ? 'underline underline-offset-4' : ''}`}>
                Plantaciones
            </a>
            <a href="/curso"
                class={`font-semibold py-2 px-5 rounded transition ${isActive('/curso') 
                ? 'bg-green-700 text-white' 
                : 'bg-green-50 text-green-900 hover:bg-green-100'}`}>
                Iniciar Curso
            </a>
        </nav>
    </div>

    <!-- Menú móvil -->
    <nav id="mobile-menu" class="hidden lg:hidden mt-4 space-y-2 bg-green-800 p-4 rounded">
        <a href="/comprar"
        class={`block text-white font-bold hover:underline ${isActive('/comprar') ? 'underline' : ''}`}>
            Comprar
        </a>
        <a href="/plantaciones"
        class={`block text-white font-bold hover:underline ${isActive('/plantaciones') ? 'underline' : ''}`}>
            Plantaciones
        </a>
        <a href="/curso"
        class={`block font-semibold py-2 px-4 rounded transition ${isActive('/curso') 
        ? 'bg-green-700 text-white' 
        : 'bg-green-50 text-green-900 hover:bg-green-100'}`}>
            Iniciar Curso
        </a>
    </nav>
</header>
